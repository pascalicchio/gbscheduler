GB Scheduler System - v2.0A comprehensive scheduling and payroll management system designed for multi-location martial arts academies.üöÄ Key FeaturesMulti-Location Support:Coaches can be assigned to one or multiple locations.Classes are filtered by location.Payroll is split and grouped by location.Role-Based Access:Admin: Full access to everything (Settings, Payroll, Users, Schedule).Manager: Can manage users and input private classes, but does not appear on the schedule or see payroll totals.Coach (User): View-only access to their own schedule and reports.Payroll & Finance:Regular Classes: Calculated automatically based on Hours x Coach Rate (Head vs Helper).Private Classes: Managed separately with location-specific Base Rates and Percentage Fees (e.g., Credit Card fees).Master Report: View payroll summaries or detailed breakdowns for all coaches at once.Dynamic Scheduling:Drag-and-drop interface.Bulk-add classes (Mon/Wed/Fri logic).Weekly "Clone Schedule" tool.üõ†Ô∏è Installation & SetupDatabase Setup:Import the SQL tables provided (Users, Locations, Class Templates, Event Assignments, Private Classes, Private Rates).Configuration:Edit db.php to connect to your MySQL database.Cron Job (Optional):Set up cron_weekly_report.php to run every Friday for automated email summaries.üìÇ File Structure GuideFileDescriptiondashboard.phpMain Hub. The weekly schedule view. Drag & drop coaches here.classes.phpClass Manager. Create/Edit class templates (SPA style).users.phpUser Manager. List all coaches/managers.user_form.phpUser Editor. Add/Edit coach details, locations, and private rates.private_classes.phpManager Tool. Input individual private lessons. Includes history & search.location_reports.phpMaster Payroll. Admin-only view of all payouts grouped by location.reports.phpIndividual Report. The breakdown a specific coach sees for their own pay.cron_weekly_report.phpAutomation. Script to email weekly totals to admins.üìò User Guide1. Managing Coaches & RatesGo to Manage Users (users.php).Click Add New User.Locations: Check all boxes where this coach works.Private Rates: For each checked location, a box will appear to set their Private Rate ($) and Fee (%) (e.g., 4% card fee).Roles: Select Manager if they are office staff (won't appear on schedule), or Coach if they teach.2. Creating the ScheduleGo to Manage Classes (classes.php).Bulk Add: Select "Monday, Wednesday, Friday", set the time, and click Save to create 3 class slots at once.Assigning Coaches: Go to the Dashboard. Drag a coach from the sidebar onto a class slot.Bulk Assign: Drag a coach onto the green [A] All Week button in the schedule header to assign them to that time slot for every day of the week.3. Private ClassesGo to Private Classes (private_classes.php).Select the Coach, Location, and Student Name.The system automatically applies the specific Rate and Fee configured in the Coach's profile for that location.4. Running PayrollFor a Quick Total: Go to Payroll Report (location_reports.php).Use Summary View to see just the totals to write checks.Use Detailed View to see every class and private lesson listed chronologically.For a Coach: A coach can log in and click "My Reports" to see only their own data.5. Weekly AutomationThe system is configured to send an email every Friday night with the total amount paid out for the week and the month-to-date.‚ùì TroubleshootingQ: A coach isn't showing up in the "Default Coach" list or Payroll?A: Go to user_form.php and ensure they have the correct Location checked. If they are not assigned to "Orlando", they won't appear in Orlando's lists.Q: I updated a class but the schedule didn't change?A: Manage Classes changes the Templates (the blueprint). The Dashboard shows Events (the actual instances). Changes to templates affect future weeks when you use the "Clone Week" button, or you can manually update the current week on the Dashboard.Q: Managers cannot edit coaches?A: Ensure the top of user_form.php allows the manager role: !in_array($_SESSION['user_role'], ['admin', 'manager']).